From 927c1e364a1762fb765993afa325d3f47af21b0c Mon Sep 17 00:00:00 2001
From: Sven Roederer <devel-sven@geroedel.de>
Date: Sun, 15 Dec 2019 18:30:57 +0100
Subject: [PATCH 2/2] ath79: add support for TP-Link CPE510-v2/v3

update generic-tp-link.mk for OpenWrt-19.07
---
 target/linux/ath79/image/generic-tp-link.mk | 14 ++------------
 1 file changed, 2 insertions(+), 12 deletions(-)

diff --git a/target/linux/ath79/image/generic-tp-link.mk b/target/linux/ath79/image/generic-tp-link.mk
index 0caaaaa55b..9a89b4f3c9 100644
--- a/target/linux/ath79/image/generic-tp-link.mk
+++ b/target/linux/ath79/image/generic-tp-link.mk
@@ -150,15 +150,10 @@ define Device/tplink_cpe510-v2
   $(Device/tplink-safeloader)
   ATH_SOC := ar9344
   IMAGE_SIZE := 7680k
-  DEVICE_MODEL := CPE510
-  DEVICE_VARIANT := v2
+  DEVICE_TITLE := TP-Link CPE510 v2
   DEVICE_PACKAGES := rssileds
   TPLINK_BOARD_ID := CPE510V2
   LOADER_TYPE := elf
-  LOADER_FLASH_OFFS := 0x43000 
-  COMPILE := loader-$(1).elf 
-  COMPILE/loader-$(1).elf := loader-okli-compile 
-  KERNEL := kernel-bin | append-dtb | lzma | uImage lzma -M 0x4f4b4c49 | loader-okli $(1) 12288
   SUPPORTED_DEVICES += cpe510-v2
 endef
 TARGET_DEVICES += tplink_cpe510-v2
@@ -167,15 +162,10 @@ define Device/tplink_cpe510-v3
   $(Device/tplink-safeloader)
   ATH_SOC := ar9344
   IMAGE_SIZE := 7680k
-  DEVICE_MODEL := CPE510
-  DEVICE_VARIANT := v3
+  DEVICE_TITLE := TP-Link CPE510 v3
   DEVICE_PACKAGES := rssileds
   TPLINK_BOARD_ID := CPE510V3
   LOADER_TYPE := elf
-  LOADER_FLASH_OFFS := 0x43000 
-  COMPILE := loader-$(1).elf 
-  COMPILE/loader-$(1).elf := loader-okli-compile 
-  KERNEL := kernel-bin | append-dtb | lzma | uImage lzma -M 0x4f4b4c49 | loader-okli $(1) 12288
   SUPPORTED_DEVICES += cpe510-v3
 endef
 TARGET_DEVICES += tplink_cpe510-v3
-- 
2.20.1

